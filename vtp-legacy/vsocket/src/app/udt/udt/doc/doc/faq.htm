<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>UDT Reference</title>
</head>

<body>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" width="100%" id="AutoNumber1" bgcolor="#99CCFF" bordercolor="#99CCFF">
  <tr>
    <td width="100%"><font face="Verdana" size="2"><i>&nbsp;UDT Frequent Asked 
    Questions</i></font></td>
  </tr>
</table>
<h1><font size="4" face="Verdana">Frequent Asked Questions</font></h1>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#1">1. Why do I need UDT?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#2">2. My application uses UDT, can I run it over a traditional low 
bandwidth network, or even on the public Internet?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#3">3. Why can't I reach the expected high throughput with Gigabit 
NIC?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#4">4. Why does the data sending always cost 99% of the CPU time?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#5">5. Can you give me some hints in tuning the performance?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#7">6. How do I use a fixed port number at server side?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#8">7. Can I modify the options at any phase of UDT?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#9">8. Does UDT care about the byte order conversion between different 
platforms?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#10">9. Why can't the UDT connection be set up? Why listen or connect 
call dead?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#11">10. Is the UDT connection secure?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#12">11. Why does my application often have packet loss even though the throughput 
is much lower than the available bandwidth?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#13">12. Is UDT TCP friendly?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#14">13. What happened if I shutdown a connected UDT entity without a 
close call (for example, I killed my application before it exits)?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#15">14. Is UDT only suitable for bulk data?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
<a href="#16">15. What's the relationship between UDT and SABUL?</a></font></p>

<p style="margin-top: 0; margin-bottom: 0">&nbsp;</p>

<hr>
<h4><font face="Verdana" size="2"><a name="1"></a>1. Why do I need UDT?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">The 
main purpose of UDT is to provide a high performance transfer interface to 
distributed data 
intensive applications over a wide area network, where TCP seldom works well for 
efficiency and fairness reasons.<br>
<br>
There is no explicit standard to determine when to use TCP and when to use UDT. 
Generally speaking, if you are not satisfied with TCP's performance, UDT is 
probably what you need, especially in high speed networks where a small number of bulk sources share the abundant bandwidth.</font></p>
<h4><font face="Verdana" size="2"><a name="2"></a>2. My application uses UDT, 
can I run it over a traditional low bandwidth network, or even on the public Internet?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">
Yes, you can do it. But please be aware that your application may use
a large amount of bandwidth and may be regarded as attack or improper use of network by ISPs and firewalls.
In addition, UDT's impact on the Internet is not comprehensively tested yet.</font></p>
<h4><font face="Verdana" size="2">
<a name="3"></a>3. Why can't I reach the announced high throughput with my Gigabit NIC?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">There 
are many factors that can affect the throughput, especially for Gigabit NICs.<br>
<br>
First of all, you need to test it using some other benchmark tools like IPerf. They will give you 
the highest performance for the current configuration. If UDT has 
similar performance, then UDT is all right, and you need to tune your network 
settings.<br>
<br>
If UDT's performance is much lower than the performance obtained from the benchmark, then 
modify the UDT options.<br>
<br>
Finally, your applications affect the transfer speed. Any data 
intensive applications can cost substantial CPU time in computing and memory 
replication, which will affect UDT's performance. Try to test the throughput 
with the example application in the UDT SDK.</font></p>
<h4><font face="Verdana" size="2"><a name="4"></a>4. Why does the data sending always 
cost 99% of the CPU time?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">That is 
because the data sending uses a busy waiting timer. Don't worry about it, if 
there is no data to be sent, the sending thread will be blocked. If there is 
work other than data transfer to do in the application, the data sending thread 
will generally be given a lower priority so that the other work will still be done.<br>
<br>
However, it is important to have a high precision timer without busy waiting. We would 
appreciate it if anyone can contribute such a timer to this free software.</font></p>
<h4><font face="Verdana" size="2"><a name="5"></a>5. Can you give me some hints 
in tuning the performance?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">Please 
read the Configuration section of the UDT Tutorial for the answer. The default parameter 
should work fine for most cases.&nbsp; </font></p>
<p style="margin-top: 0; margin-bottom: 0">&nbsp;</p>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">The parameter 
that affects the performance most is UDP buffer size. Try to tune them if the default 
does not work well. </font></p>
<h4><font face="Verdana" size="2"><a name="7"></a>6. How do I use a fixed port 
number at server side?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">Please 
refer to API reference: open.</font></p>
<h4><font face="Verdana" size="2"><a name="8"></a>7. Can I modify the options at 
any phase of UDT?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">No, 
currently the options can only be set up before the connection is up (before listen 
or connect is called).</font></p>
<h4><font face="Verdana" size="2"><a name="9"></a>8. Does UDT care about the 
byte order conversion between different platforms?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">No, the 
application should care about the conversion itself. However, UDT does work between 
different platforms even with different byte orders.</font></p>
<h4><font face="Verdana" size="2"><a name="10"></a>9. Why can't the UDT connection 
be set up? Why is the listen or connect call dead?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">The 
most likely reason is that at least one of the server or client sides has 
multiple addresses, and UDT is bound to an address different from what you use 
in the application. To solve the problem, explicitly set the UDT_ADDR option.<br>
<br>
There can be other reasons, such as domain name lookup failure. Try to use an 
explicit IP address if possible.</font></p>
<h4><font face="Verdana" size="2"><a name="11"></a>10. Is UDT connection secure?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">No. If 
you need a secure connection, you should add other mechanisms onto UDT in the 
application.</font></p>
<h4><font face="Verdana" size="2"><a name="12"></a>11. Why does my application often 
have packet loss even the throughput is much lower than the available bandwidth?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">Packet 
loss can be caused by a busy receiver. For example, if there is large block 
memory copy, arriving packets will be dropped because the CPU does not have enough time to 
process them. Try to avoid large block copy during data receiving and try to use 
blocking receiving to alleviate the problem.</font></p>
<h4><font face="Verdana" size="2"><a name="13"></a>12. Is UDT TCP friendly?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">Yes.</font></p>
<h4><font face="Verdana" size="2"><a name="14"></a>13. What happened if I 
shutdown a connected UDT entity without a close call (for example, I killed my 
application before it exits)?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">The 
peer side will detect the broken connection with the timeout mechanism. However, 
it (the peer side) will not throw out any exceptions or signals until you call 
any UDT methods, when you will get a connection broken exception.</font></p>
<h4><font face="Verdana" size="2"><a name="15"></a>14. Is UDT only suitable for 
bulk data?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">No, UDT 
can transfer a data buffer from 1 single byte to multiple tera-bytes, as 
long as your system can provide enough resources. </font></p>
<h4><font face="Verdana" size="2"><a name="16"></a>15. What's the relationship 
between UDT and SABUL?</font></h4>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana" size="2">UDT 
removes the TCP connection from SABUL and enhances the congestion/flow control.</font></p>

</body>

</html>
